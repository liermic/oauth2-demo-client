<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
    <head>
        <title>Demonstration of OAuth 2.0 Flows</title>
        <link rel="stylesheet" type="text/css" href="/css/default.css">
    </head>
    <body>
        <form id="flowSelection" th:action="@{/processForm}" method="post" th:object="${oauthFlow}">
    	
    	<h2>Select Flow for OAuth 2.0</h2>
    	
    	<div>
			<h3>Select Flow</h3>
				<label for="oauthFlow">OAuth flow to start:</label>
				<select class="form-control" th:field="*{type}"
					id="oauthFlow">
					<option th:each="flowType : ${oauthFlowTypes}" th:value="${flowType.id}"
						th:text="${flowType.name}"></option>
				</select>
		<input type="submit" name="startFlow" value="Start Flow" />
		</div>
    	<div>
			<h3>Server Configuration</h3>
    	
	    	<label for="authorizeUrl">Authorization URL:</label>
	    	<input id="authorizeUrl" type="text" th:field="*{authorizeUrl}" width="200" />
	    	<br/>
		   	<label for="tokenUrl">Token URL:</label>
		   	<input id="tokenUrl" type="text" th:field="*{tokenUrl}" width="200" />
		   	<br/>    	
		   	<label for="jwkUrl">JWK URL:</label>
		   	<input id="jwkUrl" type="text" th:field="*{jwkUrl}" width="200" />
		   	<br/>    	
		   	<label for="expectedSignatureAlgorithm">Expected signature algorithm:</label>
		   	<select class="form-control" th:field="*{expectedSignatureAlgorithm}"
				id="expectedSignatureAlgorithm">
				<option th:value="'RS256'" th:text="'RS256'"></option>
				<option th:value="'ES256'" th:text="'ES256'"></option>
			</select>
		   	<br/>    	
    	</div>
	   		
	   	<div>
	    	<h3>Client Configuration</h3>
	    	<input type="submit" name="trustedClient" value="Use Trusted Client Configuration" />
	    	<input type="submit" name="publicClient" value="Use Public Client Configuration" />
	    	<br/>
	    	
	    	<label for="clientKey">Client Key:</label>
	    	<input id="clientKey" type="text" th:field="*{key}" width="100" />
	    	<br/>
	    	
	    	<label for="clientSecret">Client Secret:</label>
	    	<input id="clientSecret" type="text" th:field="*{secret}" width="100" />
	    	<br/>
	    	
	    	<label for="redirectURI">Redirect URI:</label>
	    	<input id="redirectURI" type="text" th:field="*{redirectUri}" width="200" />
	    	<br/>
	    	
	    	<label for="scope">Request Scope:</label>
	    	<input id="scope" type="text" th:field="*{scope}" width="100" />
	    	<br/>
	   	</div>

	</form>
    </body>
</html>